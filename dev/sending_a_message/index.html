<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Sending a secret message · ChaoticMessages.jl</title><meta name="title" content="Sending a secret message · ChaoticMessages.jl"/><meta property="og:title" content="Sending a secret message · ChaoticMessages.jl"/><meta property="twitter:title" content="Sending a secret message · ChaoticMessages.jl"/><meta name="description" content="Documentation for ChaoticMessages.jl."/><meta property="og:description" content="Documentation for ChaoticMessages.jl."/><meta property="twitter:description" content="Documentation for ChaoticMessages.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">ChaoticMessages.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../convergence/">Convergence</a></li><li class="is-active"><a class="tocitem" href>Sending a secret message</a></li><li><a class="tocitem" href="../sending_a_binary_message/">Sending a secret binary message</a></li></ul></li><li><a class="tocitem" href="../documentation/">Documentation</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Examples</a></li><li class="is-active"><a href>Sending a secret message</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Sending a secret message</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/ph-kev/ChaoticMessages.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/ph-kev/ChaoticMessages.jl/blob/main/docs/src/sending_a_message.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Sending-a-secret-message-using-chaotic-dynamical-systems"><a class="docs-heading-anchor" href="#Sending-a-secret-message-using-chaotic-dynamical-systems">Sending a secret message using chaotic dynamical systems</a><a id="Sending-a-secret-message-using-chaotic-dynamical-systems-1"></a><a class="docs-heading-anchor-permalink" href="#Sending-a-secret-message-using-chaotic-dynamical-systems" title="Permalink"></a></h1><p>Consider two people: Transmitter and Receiver. Transmitter want to send a message <span>$m(t)$</span> to Receiver. However, the message should not be able to be read by anyone, but the Receiver. Cuomo and Oppenheim show that one way of approaching this problem is by using synchronized chaotic system [1]. The core idea is to send the sum of the message <span>$m(t)$</span> and the trajectory of the transmitter&#39;s dynamical system, use the receiver&#39;s dynamical system to reproduce the actual trajectory of the transmitter&#39;s dynamical system, and use this to directly compute <span>$m(t)$</span>.</p><p>In the cell below, we encoded a secret message which is audio of a taunt from Monty Python into the x-component of the trajectory of the transmitter&#39;s dynamical system which is </p><p class="math-container">\[\begin{align*}
\dot{x_R} &amp;= \sigma (y_R - x_R), \\ 
\dot{y_R} &amp;= rx_T - y_R - 20 x_T z_R, \\ 
\dot{z_R} &amp;= 5 x_T y_R - bz_R.
\end{align*}\]</p><pre><code class="language-julia hljs">using ChaoticMessages
using WAV
using Plots
using DifferentialEquations
using LaTeXStrings
using Random

u0 = [2.2,1.3,2.0] # initial condition
p = [16.0, 4.0, 45.6] # parameters of the dynamical system
tspan = (0.0,4.0) # length of the message is 4 seconds

# Create unscaled secret message
unencrypted_message, num_samples, sampling_rate = convert_message_to_samples(&quot;../audio/taunt.wav&quot;)
unscaled_secret_message = create_secret_message(u0, p, tspan, unencrypted_message, scale = 0.4)
no_message = create_secret_message(u0, p, tspan, (t) -&gt; 0.0)

# Plotting unscaled secret message
time_arr = range(tspan..., length = 100000)
plot(time_arr, unscaled_secret_message, xlabel=L&quot;t&quot;, ylabel=L&quot;x(t)&quot;, label = &quot;Secret message embedded&quot;, color = &quot;lightblue&quot;)
plot!(time_arr, no_message, label = &quot;No message embedded&quot;, color = &quot;darkorange&quot;)</code></pre><img src="e4d28ffe.svg" alt="Example block output"/><p>The first step is to create an encrypted message <span>$\widetilde{m}(t) = x_T (t) + m(t)$</span> where the magnitude of <span>$m(t)$</span> is much smaller than the magnitude of <span>$x_T(t)$</span>. This encrypts the message <span>$m(t)$</span> because <span>$x_T(t)$</span> serve as a mask to hide the message <span>$m(t)$</span>. Note that <span>$m(t)$</span> can be made as small as we like by multiplying by <span>$0 &lt; \varepsilon &lt; 1$</span>. The receiver can multiply by <span>$\frac{1}{\varepsilon}$</span> to get <span>$m(t)$</span> back when the receiver recovers the scaled version of <span>$m(t)$</span>. The variable <span>$\varepsilon$</span> is the keyword argument <code>scale</code> in <code>create_secret_message</code>. </p><pre><code class="language-julia hljs">### Transmitter ###
# Create secret message
unencrypted_message, num_samples, sampling_rate = convert_message_to_samples(&quot;../audio/taunt.wav&quot;)
secret_message = create_secret_message(u0, p, tspan, unencrypted_message)

# Convert secret message to WAV file
convert_samples_to_message(secret_message, sampling_rate, num_samples, &quot;../audio/tauntSecret.wav&quot;)</code></pre><p>The second step is to send the encrypted message <span>$\widetilde{m}(t)$</span> which is a .wav file to the receiver and the third step is to use <span>$\widetilde{m}(t)$</span> to reproduce <span>$x_T(t)$</span>. Note that in this case, <span>$m(t)$</span> is noise as the receiver&#39;s dynamical system try to synchronize with <span>$\widetilde{m}(t)$</span>. The receiver&#39;s dynamical system is </p><p class="math-container">\[\begin{align*}
\dot{x_R} &amp;= \sigma (y_R-x_R), \\
\dot{y_R} &amp;= r  \widetilde{m} - y_R - 20 (\widetilde{m}   z_R),\\
\dot{z_R} &amp;= 5 \widetilde{m} y_R - b  z_R,
\end{align*}\]</p><p>where <span>$x_R$</span> is replaced by <span>$\widetilde{m}$</span> except for the equation for <span>$\dot{x_R}$</span>. Also, notice that the receiver&#39;s dynamical system will not perfectly recover <span>$x_T(t)$</span> because of the noise <span>$m(t)$</span>. We compute <span>$\widetilde{m}(t) - x_R(t) \approx x_T (t) + m(t) - x_T(t) = m(t)$</span> which give us the recovered message! </p><pre><code class="language-julia hljs">### Receiver ###
# Get secret message
secret_message, num_samples, sampling_rate = convert_message_to_samples(&quot;../audio/tauntSecret.wav&quot;)

# Decrpyt message
decrypted_message = decrypt_secret_message(u0, p, tspan, secret_message)

# Convert secret_message to a wav file
convert_samples_to_message(decrypted_message, sampling_rate, num_samples, &quot;../audio/tauntDecrpyted.wav&quot;)</code></pre><p>To examine its effectiveness, we look at the error between <code>unencrypted_message</code> and <code>decrypted_message</code> and see that the error fluctuates at around <span>$0.1$</span> which is enough to listen to the message faithfully. </p><pre><code class="language-julia hljs"># Plot error between original sound file and decrypted sound file
abs_error = error_set_up(unencrypted_message, decrypted_message)
error_plot = plot(abs_error, tspan..., legend = false, xlabel=L&quot;t&quot;, ylabel=L&quot;E(t)&quot;, color = &quot;red&quot;, linewidth=0.5)

# Plot unencrypted message and encrypted message
sound_plot = plot(unencrypted_message,tspan...,label=&quot;Original&quot;, xlabel=L&quot;t&quot;, ylabel=&quot;Amplitude&quot;, color = &quot;blue&quot;, linewidth=0.1)
plot!(sound_plot, decrypted_message,tspan...,label=&quot;Recovered&quot;, linewidth=1.5, linealpha=0.3, color = &quot;green&quot;)
combined_plot = plot(sound_plot, error_plot, dpi = 900)

combined_plot</code></pre><img src="9a3ec921.svg" alt="Example block output"/><p>Noise can be added to the message to test whether this form of encryption is robust to noise or not. We tested it for <span>$\sigma = 0.1, 0.5, 1.0, 2.0$</span>. The message is still recovered, but is masked with static noise. For a large <span>$\sigma$</span>, the message cannot be heard because of the static noise. Hence, this is not robust to noise. </p><pre><code class="language-julia hljs">Random.seed!(42424242) # set seed

message_unencrypted, _, _ = convert_message_to_samples(&quot;../audio/taunt.wav&quot;)

error_plot = plot()
# plot error for various levels of standard deviation
for s in [2.0, 1.0, 0.5, 0.1]
    # Create secret message
    message_unencrypted_noisy, num_samples, sampling_rate = convert_message_to_samples(&quot;../audio/taunt.wav&quot;, add_noise = true, std = s)
    secret_message = create_secret_message(u0, p, tspan, message_unencrypted_noisy)

    # Convert secret message to WAV file
    convert_samples_to_message(secret_message, sampling_rate, num_samples, &quot;../audio/tauntSecret.wav&quot;)

    ### Receiver ###
    # Get secret message
    secret_message, num_samples, sampling_rate = convert_message_to_samples(&quot;../audio/tauntSecret.wav&quot;)

    # Decrpyt message
    decrypted_message = decrypt_secret_message(u0, p, tspan, secret_message)

    # Convert secret_message to a wav file
    convert_samples_to_message(decrypted_message, sampling_rate, num_samples, &quot;../audio/tauntDecrpyted-&quot; * string(s) * &quot;.wav&quot;)

    # Plot the error
    abs_error = error_set_up(message_unencrypted, decrypted_message)

    plot!(abs_error, tspan..., xlabel=L&quot;t&quot;, ylabel=L&quot;E(t)&quot;, labels = L&quot;\sigma = &quot; * string(s), palette = :seaborn_colorblind, linewidth = 0.5, dpi = 600)
  end

error_plot</code></pre><img src="8160d075.svg" alt="Example block output"/><p>[1] Kevin M. Cuomo and Alan V. Oppenheim. “Circuit implementation of synchronized chaos with applications to communications”. In: Phys. Rev. Lett. 71 (1 July 1993), pp. 65–68. doi:10.1103/PhysRevLett.71.65. url: https://link.aps.org/doi/10.1103/PhysRevLett.71.65</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../convergence/">« Convergence</a><a class="docs-footer-nextpage" href="../sending_a_binary_message/">Sending a secret binary message »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.1.2 on <span class="colophon-date" title="Thursday 26 October 2023 01:43">Thursday 26 October 2023</span>. Using Julia version 1.8.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
